<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Japan Makerè¨ºæ–­ - è¨ºæ–­çµæœ</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    /* Brand (JM) */
    :root{
      --primary-blue:#1B5E9E;
      --dark-blue:#0A3A66;
      --light-blue:#E8F0F7;
      --text:#333333;
      --text-sub:#666666;
      --track-strong:#E0F2F7;
      --track-strong-bd:#B3E0EB;
      --track-soft:#E8F4F8;
      --track-soft-bd:#C9E6F0;
    }

    body{ background:#FFFFFF; color:var(--text);
      font-family:'Noto Sans JP','Hiragino Kaku Gothic ProN','Meiryo',Arial,sans-serif; margin:0; }

    .result-container{ max-width:680px; margin:40px auto; padding:24px; background:#FFFFFF; }

    /* Header */
    .result-header{
      background:var(--light-blue); border:2px solid var(--primary-blue);
      padding:28px 20px; text-align:center; border-radius:12px; margin-bottom:30px;
      color:var(--dark-blue);
    }
    .result-header h1{ font-size:2rem; color:var(--primary-blue); font-weight:700; margin-bottom:10px; }
    .result-header .subtitle{ font-size:1.05rem; color:var(--dark-blue); }

    /* Main type */
    .main-type-box{
      background:#FFFFFF; border:2px solid var(--light-blue);
      padding:22px 24px; margin:26px 0; border-radius:12px;
      box-shadow:0 2px 8px rgba(27,94,158,0.08);
    }
    .main-type-name{ text-align:center; font-size:1.4rem; font-weight:800; color:var(--primary-blue); margin-bottom:2px; }

    /* Section title */
    .section-title{
      font-size:1.1rem; color:var(--primary-blue); font-weight:700;
      margin:20px 0 14px 0; padding-bottom:8px; border-bottom:2px solid var(--light-blue);
    }

    /* Bars */
    .bar-row{ margin-bottom:14px; }
    .bar-label{ font-size:0.95rem; font-weight:600; color:var(--text); margin-bottom:6px; display:flex; justify-content:space-between; }
    .bar-label .val{ font-size:0.9rem; color:var(--text-sub); font-weight:600; }
    .bar-label.top{ color:var(--dark-blue); font-weight:700; }
    .bar-label.top .val{ color:var(--primary-blue); }

    .bar-bg{
      background:var(--track-soft); border:1px solid var(--track-soft-bd);
      border-radius:8px; overflow:hidden; height:24px; width:100%;
      box-shadow:0 1px 3px rgba(0,0,0,0.06);
    }
    .bar-bg.strong{
      background:var(--track-strong); border:1px solid var(--track-strong-bd);
      height:28px; box-shadow:0 1px 3px rgba(0,0,0,0.08);
    }

    .bar-fill{ height:100%; border-radius:6px;
      background:linear-gradient(90deg,#20C997,#6DD5B9); /* é€šå¸¸: ãƒ†ã‚£ãƒ¼ãƒ« */
      transition:width 0.8s;
    }
    .bar-fill.top{
      background:linear-gradient(90deg,#17A2B8,#5DADE2); /* ãƒˆãƒƒãƒ—ï¼šã‚¿ãƒ¼ã‚³ã‚¤ã‚º */
    }

    /* Pie (optional) */
    .pie-wrapper{ margin:30px auto; text-align:center; }
    #pieChart{ max-width:280px; margin:0 auto; }

    /* Diagnosis meta */
    .diagnosis-id-box{
      margin:30px 0; padding:14px; background:#F7FBFF; border-radius:8px;
      color:var(--text-sub); font-size:0.96rem; border:1px solid #E0EDF7;
    }
    .diagnosis-id-box code{
      background:var(--light-blue); color:var(--primary-blue);
      padding:4px 10px; border-radius:4px; font-family:monospace; font-weight:700; border:1px solid #C9DDF0;
    }

    .footer{
      text-align:center; color:var(--text-sub); font-size:0.88rem; margin-top:30px;
      padding-top:18px; border-top:1px solid var(--light-blue);
    }

    /* Small */
    @media (max-width:480px){
      .result-container{ padding:18px; margin:24px auto; }
      .result-header h1{ font-size:1.6rem; }
      .main-type-name{ font-size:1.25rem; }
    }



/* IDæŠ˜ã‚Šè¿”ã— */
#diagnosisId{
  overflow-wrap: break-word;
  word-wrap: break-word;
}



      /* Minimal add-on styles that follow JM tokens */
#jm-sales-letter .sls-grid {
  grid-template-columns: 1fr !important;
}

      #jm-sales-letter .sls-card{
        background:var(--white);
        border:2px solid var(--light-blue);
        border-radius:12px;
        padding:20px;
        box-shadow:0 2px 8px rgba(27,94,158,0.08);
      }
      #jm-sales-letter .sls-card h3{
        font-size:1.15rem; color:var(--primary-blue); margin:0 0 10px 0;
      }
      #jm-sales-letter .sls-card p{
        color:var(--text-dark); line-height:1.8; margin:0 0 10px 0; text-align:left;
      }
      #jm-sales-letter .sls-list{
        margin:8px 0 0 0; padding:0; list-style:none;
      }
      #jm-sales-letter .sls-list li{
        margin:8px 0; color:var(--text-dark); text-align:left;
      }
      #jm-sales-letter .sls-kpi{
        display:flex; gap:10px; flex-wrap:wrap; margin-top:8px;
      }
      #jm-sales-letter .kpi{
        background:var(--light-blue); color:var(--dark-blue);
        border:1px solid rgba(27,94,158,0.25);
        border-radius:8px; padding:8px 10px; font-weight:700; font-size:0.95rem;
      }
      #jm-sales-letter .road-steps{ display:grid; grid-template-columns:1fr; gap:12px; }
      #jm-sales-letter .road-step{
        border-left:6px solid var(--primary-blue);
        background:#F7FBFF; border-radius:8px; padding:12px 14px; text-align:left;
        border:1px solid #E0EDF7;
      }
      #jm-sales-letter .road-step strong{ color:var(--dark-blue); }
      #jm-sales-letter .access{
        display:grid; grid-template-columns:1fr; gap:12px;
      }
      #jm-sales-letter .access .mod{
        border-radius:8px; padding:14px; text-align:left; border:1px solid var(--light-blue);
      }
      #jm-sales-letter .mod.offline{ background:#FFF; }
      #jm-sales-letter .mod.online{ background:#F7FBFF; }
      #jm-sales-letter .family{
        background:linear-gradient(135deg, rgba(27,94,158,0.06), rgba(27,94,158,0.03));
        border:1px solid var(--light-blue); border-radius:12px; padding:16px;
      }
      #jm-sales-letter .cta-wrap{
        margin-top:18px; display:flex; flex-direction:column;   align-items: center !important;
        justify-content: center;
        gap: 12px;
      }
      #jm-sales-letter .btn{ padding:12px 22px; border-radius:10px; font-weight:700; }

/* ãƒœã‚¿ãƒ³ã®å¯èª­å¹…ã¨ä¸­å¤®ãã‚ãˆ */
#jm-sales-letter .cta-wrap .btn {
  width: 100%;
  max-width: 520px;
  text-align: center;
}

      #jm-sales-letter .btn-primary{ background:var(--primary-blue); color:#fff; border:none; }
      #jm-sales-letter .btn-secondary{
        background:#fff; color:var(--primary-blue); border:2px solid var(--primary-blue);
      }
      /* Responsive */
      @media (min-width: 900px){
        #jm-sales-letter .sls-grid { grid-template-columns: 1fr !important; }
        #jm-sales-letter .access{ grid-template-columns:1fr 1fr; }
        #jm-sales-letter .road-steps{ grid-template-columns:1fr 1fr 1fr; }
      }



        /* ========================================
           ãƒ•ãƒƒã‚¿ãƒ¼
        ======================================== */


        .footer {
            background: var(--light-blue);
            color: #fff;
            padding: 40px 20px;
            text-align: center;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 0px;
        }

        .footer-links {
            display: inline;
            justify-content: center;
            gap: 30px;
            margin-bottom: 0px;
        }

        .footer-links a {
            color: rgba(21, 21, 21, 0.7);
            text-decoration: none;
            font-size: 0.75rem;
            letter-spacing: 0.05em;
            transition: color 0.3s ease;
        }

        .footer-links a:hover {
            color: #fff;
        }

        .footer-copyright {
            font-size: 0.85rem;
            color: rgba(21, 21, 21, 0.5);
            letter-spacing: 0.05em;
            margin-top: 20px;
        }


  </style>
</head>
<body>
<div class="result-container">
  <div class="result-header">
    <h1>è¨ºæ–­å®Œäº†</h1>
    <p class="subtitle">ã‚ãªãŸã®é“ãŒè¨ºæ–­ã•ã‚Œã¾ã—ãŸ</p>
  </div>

  <div class="main-type-box">
    <div class="main-type-name" id="typeDisplay">èª­è¾¼ä¸­...</div>
  </div>

  <div class="section-title">ğŸ“Š ã‚ãªãŸã®ã‚¿ã‚¤ãƒ—åˆ†å¸ƒ</div>
  <div id="barGauges"></div>

  <!-- Optional
  <div class="pie-wrapper">
    <canvas id="pieChart"></canvas>
  </div>
  -->

  <div class="diagnosis-id-box">
    <strong>è¨ºæ–­ID:</strong> <code id="diagnosisId"></code>
  </div>


<!-- Sales Letter Section -->
<section id="jm-sales-letter" class="section">
  <div class="container">
    <!-- Centered, short headline -->
    <div class="c-header" style="text-align:center; margin-bottom:28px;">
      <h2 style="margin-bottom:8px;">æ¬¡ã®90æ—¥ã§ã€ä»•äº‹ã®è»¸ã‚’ã¤ãã‚‹</h2>
      <p style="color:var(--text-gray);">è¨ºæ–­çµæœã‚’èµ·ç‚¹ã«ã€<br>å­¦ã³â†’æˆæœç‰©â†’åç›ŠåŒ–ã¾ã§ã‚’ä¸€ç›´ç·šã«</p>
    </div>

    <div class="sls-grid">
      <!-- 1. æœªæ¥ã®è·æ¥­å›³ï¼ˆéœ€è¦æ ¹æ‹ ï¼‹å¹´åï¼‰ -->
      <div class="sls-card">
        <h3>æœªæ¥ã®è·æ¥­å›³</h3>
        <p>ã‚¤ãƒ³ãƒ•ãƒ©é‹ç”¨ãƒ»ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆãƒ»ãƒ‡ãƒ¼ã‚¿çµ±åˆã«æ¥ç¶šã™ã‚‹è·èƒ½ã¯ã€ä»Šå¾Œ10å¹´ã®éœ€è¦ã¨å ±é…¬ã®ä¸¡é¢ã§å„ªä½æ€§ãŒç¶šãè¦‹é€šã—ã§ã™ã€‚</p>
        <ul class="sls-list">
          <li>Systemï¼Structureï¼šéƒ½å¸‚ã‚¤ãƒ³ãƒ•ãƒ©ãƒ»é˜²ç½ãƒ»é‹ç”¨ã®æ¨ªæ–­ã‚¹ã‚­ãƒ«ã¯ç¶™ç¶šæŠ•è³‡ã¨ç´ã¥ãã‚„ã™ã„ã€‚</li>
          <li>Habitatï¼šç’°å¢ƒãƒ»æ°´ãƒ»æ¤ç”Ÿã®åŸºç›¤æ•´å‚™ã¯å…¬å…±ï¼æ°‘é–“ã®é•·æœŸæ¡ˆä»¶ã¨ç›¸æ€§ãŒè‰¯ã„ã€‚</li>
          <li>Productï¼šè£½é€ æœ€é©åŒ–ãƒ»å“è³ªãƒ»3D/å¼·åº¦ã¯è¼¸å‡ºã¨åœ°å ´ç”£æ¥­ã®ä¸¡è¼ªã§ä¼¸ã³ã‚‹ã€‚</li>
          <li>Sanctuaryï¼šæ•™è‚²ãƒ»åŒ»ç™‚ãƒ»ä½ç’°å¢ƒã®ä½“é¨“æ”¹å–„ã¯åœ°åŸŸç¦ç¥‰ã¨æ°‘é–“ã‚µãƒ¼ãƒ“ã‚¹ã®é‡ãªã‚‹åœŸå°ã€‚</li>
        </ul>
        <div class="sls-kpi">
          <div class="kpi">é•·æœŸéœ€è¦</div>
          <div class="kpi">æ¨ªæ–­ã‚¹ã‚­ãƒ«</div>
          <div class="kpi">ä¸Šä½å ±é…¬ã¨æ¥ç¶š</div>
        </div>
      </div>

      <!-- 2. å­¦ç¿’ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ— -->
      <div class="sls-card">
        <h3>å­¦ç¿’ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ï¼ˆ90æ—¥è¨­è¨ˆï¼‰</h3>
        <div class="road-steps">
          <div class="road-step"><strong>0â€“30æ—¥ï¼š</strong>åŸºç¤ã‚»ãƒƒãƒˆï¼ˆç”¨èªãƒ»å®‰å…¨ãƒ»è¨ˆæ¸¬ãƒ»ãƒ„ãƒ¼ãƒ«ï¼‰ï¼‹ãƒŸãƒ‹èª²é¡Œã§æ‰‹ã‚’æ…£ã‚‰ã™ã€‚</div>
          <div class="road-step"><strong>31â€“60æ—¥ï¼š</strong>ã‚¿ã‚¤ãƒ—åˆ¥ãƒŸãƒ‹PJï¼ˆè¨­è¨ˆãƒ»æ¤œè¨¼ãƒ»æå‡ºï¼‰ã§æˆæœç‰©ã‚’ä½œã‚‹ã€‚</div>
          <div class="road-step"><strong>61â€“90æ—¥ï¼š</strong>ç¾å ´èª²é¡Œã«è»¢ç”¨â†’ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§æ”¹å–„â†’ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªåŒ–ã€‚</div>
        </div>
        <ul class="sls-list">
          <li>æå‡ºç‰©ã¯ãƒ†ãƒ³ãƒ—ãƒ¬ä»˜ãã€ãã®ã¾ã¾æ¡ˆä»¶ææ¡ˆã‚„é¸è€ƒã«æµç”¨å¯èƒ½ã€‚</li>
          <li>æ¯é€±ã®ãƒã‚§ãƒƒã‚¯é …ç›®ã§é…ã‚Œã‚„è©°ã¾ã‚Šã‚’æ—©æœŸã«è§£æ¶ˆã€‚</li>
        </ul>
      </div>

      <!-- 3. å¤šæ‘©ã‚»ãƒ³ã‚¿ãƒ¼ & ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ä¸¡æ–¹ -->
      <div class="sls-card">
        <h3>å¤šæ‘©ã‚»ãƒ³ã‚¿ãƒ¼ï¼†ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã®ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰</h3>
        <div class="access">
          <div class="mod offline">
            <p><strong>å¤šæ‘©ã‚»ãƒ³ã‚¿ãƒ¼ï¼ˆé€šå­¦ï¼‰</strong></p>
            <ul class="sls-list">
              <li>å®Ÿæ¸¬ãƒ»å®Ÿæ©Ÿãƒ»ãƒãƒ¼ãƒ æ¼”ç¿’ã§ç¾å ´ã•ãªãŒã‚‰ã®æ‰‹è§¦ã‚Šã€‚</li>
              <li>çŸ­æ™‚é–“ã§ã€Œã§ãã‚‹ã€æ„Ÿè¦šã‚’ç©ã¿ä¸Šã’ã‚‹æ§‹æˆã€‚</li>
            </ul>
          </div>
          <div class="mod online">
            <p><strong>ã‚ªãƒ³ãƒ©ã‚¤ãƒ³</strong></p>
            <ul class="sls-list">
              <li>éŒ²ç”»ãƒ»ãƒ¡ãƒ¢ãƒ»èª²é¡Œãƒ†ãƒ³ãƒ—ãƒ¬ã§è¿·ã„ã‚’æœ€å°åŒ–ã€‚</li>
              <li>ãƒ¡ãƒ³ã‚¿ãƒ¼åŒå¸­ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§æœ€çŸ­ã®æ”¹å–„ãƒ«ãƒ¼ãƒ—ã€‚</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- 4. ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ -->
<div class="sls-card">
  <h3>éˆ´æœ¨ã•ã‚“ã®äº‹ä¾‹</h3>
  <div class="family">
    <p>éˆ´æœ¨ã•ã‚“ï¼ˆ38æ­³ãƒ»äºŒå…ã®è¦ªï¼‰ã€‚ä»•äº‹ã¯å¥½ãã§ã‚‚ã€å°†æ¥ã®åå…¥è¨ˆç”»ã«ä¸å®‰ãŒã‚ã‚Šã€é€šå‹¤ã¨å­è‚²ã¦ã®ä¸¡ç«‹ã«é™ç•Œã‚’æ„Ÿã˜ã¦ã„ãŸæ™‚æœŸã«å€‹åˆ¥ç›¸è«‡ã‚’å—ã‘ã¾ã—ãŸã€‚</p>
    <p>è¨ºæ–­çµæœã«ã‚‚ã¨ã¥ã90æ—¥ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã‚’è¨­è¨ˆã€‚è‡ªå®…ã§ã‚‚ã§ãã‚‹æˆæœç‰©ã¥ãã‚Šã¨ã€é€±1å›ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ã‚»ãƒƒãƒˆã«ã—ã¦ã€è¿·ã‚ãšé€²ã‚ã‚‹çŠ¶æ…‹ã‚’ç”¨æ„ã—ã¾ã—ãŸã€‚</p>
    <ul class="sls-list">
      <li>0â€“30æ—¥ï¼šåŸºç¤èª²é¡Œã§æ‰‹ã‚’æ…£ã‚‰ã—ã€ç”¨èªãƒ»å®‰å…¨ãƒ»è¨ˆæ¸¬ãƒ»ãƒ„ãƒ¼ãƒ«ã‚’çŸ­æ™‚é–“ã§ç¿’å¾—ã€‚</li>
      <li>31â€“60æ—¥ï¼šã‚¿ã‚¤ãƒ—åˆ¥ãƒŸãƒ‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆè¨­è¨ˆãƒ»æ¤œè¨¼ãƒ»æå‡ºï¼‰ã§å®Ÿç‰©ã®æˆæœç‰©ã‚’æ§‹ç¯‰ã€‚</li>
      <li>61â€“90æ—¥ï¼šç¾å ´æº–æ‹ ã®ææ¡ˆè³‡æ–™ã¸è»¢ç”¨ã—ã€ãƒ¡ãƒ³ã‚¿ãƒ¼ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ä»•ä¸Šã’ã‚’æœ€çŸ­åŒ–ã€‚</li>
    </ul>
    <p>é€±10æ™‚é–“ã®å­¦ç¿’ãƒšãƒ¼ã‚¹ã§ã‚‚é€²æ—ãŒè¦‹ãˆã‚‹ã“ã¨ã§ã€ç„¦ã‚ŠãŒè§£æ¶ˆã€‚ç¾åœ¨ã®è·å ´ã‚’ç¶šã‘ãªãŒã‚‰å‰¯åå…¥ã‚’ä½œã‚Šã€ã‚‚ã—ã‚‚ã®æ™‚ã®é¸æŠè‚¢ï¼ˆè»¢è·ãƒ»ç‹¬ç«‹ãƒ»ç¤¾å†…ç•°å‹•ï¼‰ã‚’è¤‡ç·šåŒ–ã§ãã¾ã—ãŸã€‚</p>
    <p>çµæœã¨ã—ã¦ã€å®¶è¨ˆã®äºˆæ¸¬å¯èƒ½æ€§ãŒä¸ŠãŒã‚Šã€å­è‚²ã¦ã‚„ä½ã¾ã„ã®è¨ˆç”»ã‚‚å´©ã‚Œã«ãããªã‚Šã¾ã—ãŸã€‚</p>
  </div>
</div>

    </div>

    <!-- 5. å€‹åˆ¥ç›¸è«‡ CTA -->
    <div class="sls-card" style="margin-top:20px;">
      <h3>å€‹åˆ¥ç›¸è«‡ï¼ˆç„¡æ–™ãƒ»ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å¯ï¼‰</h3>
      <p>è¨ºæ–­çµæœã‚’ã‚‚ã¨ã«ã€ã‚„ã‚‹ã“ã¨ï¼ã‚„ã‚‰ãªã„ã“ã¨ï¼æœ€çŸ­ãƒ«ãƒ¼ãƒˆã‚’30åˆ†ã§æ•´ç†ã—ã¾ã™ã€‚å®Ÿæ–½å¾Œã¯90æ—¥ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—é››å½¢ã¨ä»Šé€±ã®å°ã‚¿ã‚¹ã‚¯ã‚’ãŠæ¸¡ã—ã—ã¾ã™ã€‚</p>
      <ul class="sls-list">
        <li>æ±ºã‚ã‚‹ã“ã¨ï¼šã‚´ãƒ¼ãƒ«ã€90æ—¥è¨ˆç”»ã€æˆæœç‰©ã€æœ€åˆã®è³‡æ ¼ï¼æ¡ˆä»¶ã®é †ç•ªã€‚</li>
        <li>æŒã¡ç‰©ï¼šè¨ºæ–­IDã€ã“ã‚Œã¾ã§ã®å­¦ã³ã€ç¾åœ¨ã®åˆ¶ç´„ï¼ˆæ™‚é–“ãƒ»å ´æ‰€ãƒ»äºˆç®—ï¼‰ã€‚</li>
      </ul>
      <div class="cta-wrap">
        <a href="#consult" class="btn btn-primary">ä»Šã™ãå€‹åˆ¥ç›¸è«‡ã‚’äºˆç´„ã™ã‚‹<br>ï¼ˆç„¡æ–™ãƒ»ã‚ªãƒ³ãƒ©ã‚¤ãƒ³OKï¼‰</a>
        <a href="#guide" class="btn btn-secondary">è³‡æ–™ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰<br>ï¼ˆãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—é››å½¢ä»˜ãï¼‰</a>
      </div>
    </div>
  </div>
</section>

</div>


    <!-- Footer -->
    <footer class="footer">
        <div class="footer-links">
            <a href="tokusho.html" target="_blank">ç‰¹å•†æ³•</a> ã€€ã€€ 
            <a href="privacy.html" target="_blank">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a>
        </div>
        <div class="footer-copyright">
            Â© Japan Maker
        </div>
    </footer>


<script>
(async function(){
  const url = new URL(window.location.href);
  const diagnosisId = url.searchParams.get('id');
  if(!diagnosisId){
    document.body.innerHTML =
      "<div style='color:#0A3A66;padding:40px;text-align:center;background:#FFFFFF;border:2px solid #E8F0F7;border-radius:12px;max-width:680px;margin:40px auto;'>è¨ºæ–­IDãŒã‚ã‚Šã¾ã›ã‚“ã€‚</div>";
    return;
  }
  document.getElementById('diagnosisId').textContent = diagnosisId;

  const response = await fetch('https://x-sennin.com/api/japanmaker_diagnosis/get.php?id='+diagnosisId);
  const data = await response.json();
  if(data.status !== 'success'){ alert('ã‚¨ãƒ©ãƒ¼: '+data.message); return; }

  const result = data.result;
  document.getElementById('typeDisplay').textContent = '' + result.displayPath;

  const typeNames = result.typeNames;
  const percentages = result.percentages;

  // ãƒˆãƒƒãƒ—åˆ¤å®šï¼ˆæœ€å¤§%ï¼‰
  let maxPercent = -1, topKey = '';
  Object.entries(percentages).forEach(([cat, percent])=>{
    if(percent > maxPercent){ maxPercent = percent; topKey = cat; }
  });

  const barParent = document.getElementById('barGauges');
  Object.entries(percentages).forEach(([cat, percent])=>{
    const isTop = (cat === topKey);
    const labelClass = isTop ? 'bar-label top' : 'bar-label';
    const trackClass = isTop ? 'bar-bg strong' : 'bar-bg';
    const fillClass = isTop ? 'bar-fill top' : 'bar-fill';

    barParent.innerHTML += `
      <div class="bar-row">
        <div class="${labelClass}">
          <span>${typeNames[cat]}</span>
          <span class="val">${Number(percent).toFixed(1)}%</span>
        </div>
        <div class="${trackClass}">
          <div class="${fillClass}" style="width:${percent}%;"></div>
        </div>
      </div>`;
  });

  // å††ã‚°ãƒ©ãƒ•ï¼ˆå¿…è¦ãªã‚‰æœ‰åŠ¹åŒ–ï¼‰
  /*
  const pieLabels = Object.keys(percentages).map(k => typeNames[k]);
  const pieData = Object.values(percentages);
  const pieColors = ['#17A2B8','#20C997','#5DADE2','#6DD5B9','#85C1E9'];
  const ctx = document.getElementById('pieChart');
  new Chart(ctx, {
    type:'doughnut',
    data:{
      labels: pieLabels,
      datasets:[{
        data: pieData,
        backgroundColor: pieColors,
        borderWidth: 2,
        borderColor: '#E8F0F7'
      }]
    },
    options:{
      plugins:{ legend:{ display:false }, tooltip:{ enabled:false } },
      cutout:'65%',
      animation:{ duration:1200 }
    }
  });
  */
})();
</script>
</body>
</html>
